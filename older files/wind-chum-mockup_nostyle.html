<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Wind Chum — Mockup v2</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

</head>
<body>
  <div class="app">
    <!-- Top club columns -->
    <div class="top-row" id="top-row">
      <!-- columns added by JS -->
    </div>

    <!-- Middle area: left=bags+clubinfo, center=wind/slider/rings, right=course -->
    <div class="middle">
      <div class="panel">
        <div class="section-title">Golf Bags</div>
        <div class="bags" id="bags-area"></div>
        <div style="margin-top:12px">
          <button id="reset-clubs" class="btn secondary">Reset clubs/levels</button>
        </div>

        <hr style="margin:12px 0">

        <div class="section-title">Club Information</div>
        <table class="club-info">
          <tbody>
            <tr><td>Selected</td><td id="ci-selected">—</td></tr>
            <tr><td>Level</td><td id="ci-level">—</td></tr>
            <tr><td>Distance</td><td id="ci-dist">—</td></tr>
            <tr><td>Notes</td><td id="ci-notes">—</td></tr>
          </tbody>
        </table>
      </div>

      <div class="panel" style="display:flex;gap:12px;align-items:flex-start">
        <!-- center controls -->
        <div style="flex:1">
          <div class="section-title">Shot Setup</div>
          <div class="controls">
            <div class="row">
              <label style="width:80px"><div class="small">Wind</div><input id="wind-input" type="text" value="0" ></label>
              <div style="width:12px"></div>
              <label style="width:120px"><div class="small">Ball Power</div><select id="ball-power"></select></label>
              <label style="margin-left:12px"><div class="small">Elevation</div><select id="elevation"></select></label>
            </div>

            <div style="margin-top:8px">
              <div class="small">Club Distance</div>
              <div style="display:flex;align-items:center;gap:10px">
                <input id="club-slider" type="range" min="0" max="100" value="100">
                <div style="width:48px;text-align:center" class="small" id="slider-val">100</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Rings big box -->
        <div style="display:flex;flex-direction:column;align-items:center;gap:10px">
          <div class="section-title">Rings to Adjust</div>
          <div style="display:flex;align-items:center;gap:12px">
            <div class="ring-big" id="ring-big">0</div>
            <div class="ring-labels small">
              <div>Min: <span id="min-r">0</span></div>
              <div>25%: <span id="p25">0</span></div>
              <div>Mid: <span id="mid-r">0</span></div>
              <div>75%: <span id="p75">0</span></div>
              <div>Max: <span id="max-r">0</span></div>
            </div>
          </div>
        </div>
      </div>

      <aside class="panel right-panel">
        <div class="section-title">Course & Hole</div>
        <div style="display:flex;gap:8px;align-items:center">
          <div style="flex:1">
            <div class="small">Course</div>
            <select id="course-select" style="width:100%"></select>
          </div>
        </div>

        <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
          <div style="width:100px">
            <div class="small">Hole</div>
            <select id="hole-select"><option>1</option><option>2</option><option>3</option></select>
          </div>
          <div style="flex:1;display:flex;gap:8px;align-items:center">
            <button id="save-hole" class="btn">Save</button>
            <button id="play-hole" class="btn secondary">Play Hole</button>
          </div>
        </div>

        <div style="margin-top:12px">
          <div class="small">Image</div>
          <div class="course-img" id="course-pic">Select a course & hole to view the image</div>
        </div>

        <div style="margin-top:12px">
          <div class="small">Shot Elevation / Club</div>
          <div style="display:flex;gap:8px;margin-top:6px">
            <input id="elev1" placeholder="Shot1 elev" style="width:80px">
            <select id="club1" style="flex:1"></select>
          </div>
          <div style="display:flex;gap:8px;margin-top:6px">
            <input id="elev2" placeholder="Shot2 elev" style="width:80px">
            <select id="club2" style="flex:1"></select>
          </div>
          <div style="margin-top:8px">
            <div class="small">Notes</div>
            <textarea id="hole-notes" style="width:100%;min-height:80px"></textarea>
          </div>
        </div>
      </aside>
    </div>

    <div class="bottom">
      <div class="small">Category quick buttons:</div>
      <button class="btn secondary">Driver</button>
      <button class="btn secondary">Wood</button>
      <button class="btn secondary">Long_Iron</button>
      <button class="btn secondary">Short_Iron</button>
      <button class="btn secondary">Wedge</button>
      <button class="btn secondary">Rough_Iron</button>
      <button class="btn secondary">Sand_Wedge</button>
    </div>
  </div>

<script>
/* --- Data --- */
const clubCats = {
  Drivers:["Rocket","Extra_Mile","Big_Topper","Quarterback","Rock","Thors_Hammer","Apocalypse"],
  Woods:["Horizon","Viper","Big_Dawg","Hammerhead","Guardian","Sniper","Cataclysm"],
  Long_Irons:["Grim_Reaper","Backbone","Goliath","Saturn","B52","Grizzly","Tsunami"],
  Short_Irons:["Apache","Kingfisher","Runner","Thorn","Hornet","Claw","Falcon"],
  Wedges:["Dart","FireFly","Boomerang","Down_In_One","Skewer","Endbringer","Rapier"],
  Rough_Irons:["Roughcutter","Junglist","Machete","Off_Roader","Razor","Amazon","Nirvana"],
  Sand_Wedges:["Castaway","Desert_Storm","Malibu","Sahara","Sand_Lizard","Houdini","Spitfire"]
};

/* build top columns */
const top = document.getElementById('top-row');
Object.entries(clubCats).forEach(([cat, clubs])=>{
  const col = document.createElement('div'); col.className='col';
  const h = document.createElement('h3'); h.textContent = cat.replace(/_/g,' ');
  col.appendChild(h);

  // clubs column (radio stack)
  const clubsWrap = document.createElement('div'); clubsWrap.className='clubs';
  clubs.forEach((c,i)=>{
    const lbl = document.createElement('label');
    lbl.innerHTML = `<input type="radio" name="club-${cat}" value="${c}" data-cat="${cat}"> ${c.replace(/_/g,' ')}`;
    clubsWrap.appendChild(lbl);
  });
  col.appendChild(clubsWrap);

  // level header
  const lvlHead = document.createElement('div'); lvlHead.className='small'; lvlHead.style.marginTop='8px'; lvlHead.style.fontWeight='700'; lvlHead.textContent='LEVEL';
  col.appendChild(lvlHead);

  // levels column (1..10)
  const lvlWrap = document.createElement('div'); lvlWrap.className='levels';
  const row = document.createElement('div'); row.className='level-row';
  for(let i=1;i<=10;i++){
    const label = document.createElement('label');
    label.innerHTML = `<input type="radio" name="lvl-${cat}" value="${i}" data-cat="${cat}"> ${i}`;
    row.appendChild(label);
  }
  lvlWrap.appendChild(row);
  col.appendChild(lvlWrap);

  top.appendChild(col);
});

/* Bags */
const bagsArea = document.getElementById('bags-area');
for(let i=1;i<=5;i++){
  const d = document.createElement('div'); d.className='bag';
  d.innerHTML = `<div style="font-weight:700">Bag ${i}</div>
  <div class="small">Saved: <span id="bag-${i}-has">No</span></div>
  <div style="display:flex;gap:6px">
    <button class="btn" data-bag="${i}" data-action="save">Save</button>
    <button class="btn secondary" data-bag="${i}" data-action="load">Load</button>
  </div>`;
  bagsArea.appendChild(d);
}

/* populate ball-power and elevation selects */
const bp = document.getElementById('ball-power');
for(let i=0;i<=10;i++){ const o=document.createElement('option'); o.value=i; o.textContent=i; bp.appendChild(o); }
const elev = document.getElementById('elevation');
for(let v=-65; v<=65; v+=5){ const o=document.createElement('option'); o.value=v; o.textContent=(v===0? "0%": v+"%"); elev.appendChild(o); }

/* populate club selects on right */
const club1 = document.getElementById('club1'), club2=document.getElementById('club2');
Object.values(clubCats).flat().forEach(c=>{
  const o1=document.createElement('option'); o1.textContent=c.replace(/_/g,' '); club1.appendChild(o1);
  const o2=document.createElement('option'); o2.textContent=c.replace(/_/g,' '); club2.appendChild(o2);
});

/* slider logic -> rings display (placeholder formula) */
const slider = document.getElementById('club-slider');
const sliderVal = document.getElementById('slider-val');
const ringBig = document.getElementById('ring-big');
function computeRings(val){
  // placeholder: map 0..100 to -10..10 then round to int
  const adj = Math.round((val - 50)/5);
  return adj;
}
function updateFromSlider(){
  sliderVal.textContent = slider.value;
  const r = computeRings(Number(slider.value));
  ringBig.textContent = r;
  document.getElementById('min-r').textContent = r-3;
  document.getElementById('p25').textContent = r-1;
  document.getElementById('mid-r').textContent = r;
  document.getElementById('p75').textContent = r+1;
  document.getElementById('max-r').textContent = r+3;
}
slider.addEventListener('input', updateFromSlider);
updateFromSlider();

/* reflect club/level selects into club info */
document.addEventListener('change', e=>{
  if(!e.target) return;
  if(e.target.matches('input[type=radio]')){
    if(e.target.name.startsWith('club-')){
      document.getElementById('ci-selected').textContent = e.target.value.replace(/_/g,' ');
    } else if(e.target.name.startsWith('lvl-')){
      document.getElementById('ci-level').textContent = e.target.value;
    }
  }
});

/* bags save/load using localStorage */
document.querySelectorAll('[data-action]').forEach(btn=>{
  btn.addEventListener('click', () => {
    const bag = btn.dataset.bag, action = btn.dataset.action;
    if(action==='save'){
      const data = {
        wind: document.getElementById('wind-input').value,
        slider: slider.value,
        selected: document.getElementById('ci-selected').textContent,
        level: document.getElementById('ci-level').textContent,
        notes: document.getElementById('hole-notes').value
      };
      localStorage.setItem('gc_bag_'+bag, JSON.stringify(data));
      document.getElementById(`bag-${bag}-has`).textContent = 'Yes';
      alert('Bag '+bag+' saved.');
    } else {
      const raw = localStorage.getItem('gc_bag_'+bag);
      if(!raw){ alert('No saved bag '+bag); return; }
      const d = JSON.parse(raw);
      document.getElementById('wind-input').value = d.wind || '';
      slider.value = d.slider || 100; updateFromSlider();
      document.getElementById('ci-selected').textContent = d.selected || '—';
      document.getElementById('ci-level').textContent = d.level || '—';
      document.getElementById('hole-notes').value = d.notes || '';
      alert('Bag '+bag+' loaded.');
    }
  });
});

/* init bag indicators */
for(let i=1;i<=5;i++) document.getElementById(`bag-${i}-has`).textContent = localStorage.getItem('gc_bag_'+i) ? 'Yes' : 'No';

/* course list sample */
const courseSelect = document.getElementById('course-select');
['Default Course','Course A','Course B','Course C'].forEach(c => { const o=document.createElement('option'); o.textContent=c; courseSelect.appendChild(o); });

/* save hole notes */
document.getElementById('save-hole').addEventListener('click', ()=>{
  const key = 'gc_notes_'+courseSelect.value+'_'+document.getElementById('hole-select').value;
  localStorage.setItem(key, document.getElementById('hole-notes').value);
  alert('Hole notes saved.');
});

/* reset clubs/levels */
document.getElementById('reset-clubs').addEventListener('click', ()=>{
  document.querySelectorAll('input[type=radio]').forEach(r=>r.checked=false);
  document.getElementById('ci-selected').textContent='—';
  document.getElementById('ci-level').textContent='—';
});
</script>
</body>
</html>
