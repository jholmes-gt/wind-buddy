<!-- To do:  -->
<!-- 2. about, contact, ect pages -->
<!-- 3. Endbringer mode needs to scan through saved bags to determine the user's level (default to level 5 if not found) -->
<!-- 4. golf bag hover tooltips that display the clubs and levels saved in that bag -->

<!doctype html>
<html lang="en">
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <title>WindBuddy</title>
 <link rel="stylesheet" href="styles.css">
 <link rel="icon" type="ico" href="windSymbol_round.ico">
</head>
<body class="linear-gradient">
  <div class="app">

	<div class="header-bar">
	  <div class = "img">
		<img style="height:110%" src="golf_sil_image.png">
		<img style="" src="WindBuddy-shadow-text.png">
		<img style="" src="wind-symbol.png">
	  </div>
		
		<div class="authContainer">
			<div id="authBar">
				<button id="loginBtn" class="auth-btn">Sign In</button>
				<div id="accountMenuContainer" style="display:none;">
					<div id="accountMenuTrigger" class="account-trigger">
						Logged in as <span id="accountUserName"></span> ▼
					</div>

					<div id="accountDropdown" class="hidden dropdown-menu">
						<div id="menuChangePassword" class="dropdown-item">Change Password</div>
						<div id="menuResetAppData" class="dropdown-item danger">Reset All App Data</div>
						<div id="menuDeleteAccount" class="dropdown-item danger">Delete Account</div>
						<div id="menuSignOut" class="dropdown-item">Sign Out</div>
					</div>
				</div>

			</div>
			<div id='toast-container'></div>
		</div>
	</div>




	<!-- LOGIN MODAL -->
	<div id="loginModal" class="modal hidden">
		<div class="modal-content">
			<span id="loginClose" class="close">&times;</span>
			<h2>Sign in to Wind-Buddy</h2>

			<label>Email</label>
			<input type="email" id="loginEmail" class="auth-input">

			<label>Password</label>
			<input type="password" id="loginPassword" class="auth-input">

			<button id="emailLoginBtn" class="auth-action">Sign In</button>
			<button id="emailSignupBtn" class="auth-action">Create New Account</button>

			<div class="divider"><span>OR</span></div>

			<button id="googleLoginBtn" class="google-btn">
				<img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg">
				Sign In with Google
			</button>
		</div>
	</div>



			<!-- CATEGORY/SHOW CLUBS TOGGLE WRAPPER -->
    <div class="clubs-wrap">
    	<div class="clubs-top">
        	<!-- toggle is outside the collapsing element so it remains visible -->
        	<div id="toggleClubs" class="toggle-link">Hide Clubs ▲</div>
    	</div>
			<!-- CLUBS AND LEVELS -->
        <div id="clubGrid" class="club-grid">
        	<!-- categories created by JS -->
			<div id="clubGridF4" class="club-grid-f4"></div>
			<div id="clubGridL3" class="club-grid-l3"></div>
	    </div>
    </div>





		<!-- MAIN CONTROL ROW -->
	<div class="main">

		<div class="leftMainPanels">
			
					<!-- GOLF BAG PANEL -->
			<div id="golfBagsPanel" class="bagsPanel">
				<h4>Golf Bags</h4>
				<div class="bagsInnerPanel" id="bagsContainer">
					<div class="bag-row">
		    			<button id="btn_bag1" class="smaller-btn">Bag1</button>
		    			<button id="btn_bag1_save" class="small-btn">Save Current</button>
		  			</div>
          			<div class="bag-row">
		    			<button id="btn_bag2" class="smaller-btn">Bag2</button>
		    			<button id="btn_bag2_save" class="small-btn">Save Current</button>
					</div>
        			<div class="bag-row">
		    			<button id="btn_bag3" class="smaller-btn">Bag3</button>
		    			<button id="btn_bag3_save" class="small-btn">Save Current</button>
					</div>
        			<div class="bag-row">
		    			<button id="btn_bag4" class="smaller-btn">Bag4</button>
		    			<button id="btn_bag4_save" class="small-btn">Save Current</button>
					</div>
        			<div class="bag-row">
					    <button id="btn_bag5" class="smaller-btn">Bag5</button>
		    			<button id="btn_bag5_save" class="small-btn">Save Current</button>
					</div>
    		    </div>
						<!-- new overlay panel -->
    		    <div id="bag-toast" class="bag-toast"></div>
    		</div>
		
				<!-- TOOL PANEL -->
      		<div id="left-mid-panel" class="toolsPanel">
        		<h4>
					<div style="width: 100%;">Tools</div>
					<div class="tooltip-wrapper" style="height: var(--mainPanelsHdrHeight);">
						<img src="info_icon.png" style="height: 75%; width:auto;margin-left: auto;margin-right: 1vw; margin-top:3px;" id="tools-info-btn">	
						<div class="input-tooltip" role="status" aria-hidden="true">
						  Click here for more info about the Tools Panel.
						</div>
					</div>
				</h4>
				<div class="toolsInnerPanel">
			        <button id="btn_endbringer" class="btn">Endbringer School</button>
        			<button id="btn_tourn1" class="btn">Tournament 1 Notes</button>
        			<button id="btn_tourn2" class="btn">Tournament 2 Notes</button>
        			<button id="btn_tourn3" class="btn">Tournament 3 Notes</button>
        			<button id="btn_reset" class="btn">CPC Mode/Reset</button>
        		</div>
      		</div>
	  
				<!-- CLUB INFORMATION PANEL -->
    		<div id="left-right-panel" class="clubInfoPanel">
        		<h4 id="active_club_info_hdr">CLUB INFO</h4>
        		<div class="club-info-grid" id="club_info_table">
            		<div class="club-info-row">Power__<span class="value" id="info-power">______</span></div>
					<div class="club-info-row">Accuracy__<span class="value" id="info-accuracy">___</span></div>
					<div class="club-info-row">Top Spin__<span class="value" id="info-topspin">___</span></div>
					<div class="club-info-row">Back Spin__<span class="value" id="info-backspin">__</span></div>
					<div class="club-info-row">Curl__<span class="value" id="info-curl">________</span></div>
					<div class="club-info-row">Ball Guide__<span class="value" id="info-ballguide">__</span></div>
	        	</div>
    		</div>

		</div>   

		<div class="rightMainPanels">

				<!-- SHOT ADJUSTMENTS PANEL -->
			<div id="shot_adj_panel" class="shotAdjPanel">
    		    <h4>Shot Adjustments</h4>
		
				<div class="sa_row">
					<label for="windInput">Wind (mph)</label>
					<div class="tooltip-wrapper">
					<input id="windInput" type="number" step="0.1" value="0.0">
					<div class="input-tooltip" role="status" aria-hidden="true">
						It is not necessary to type the decimal (dot) key. (example: type 125 for 12.5)
					</div>
					</div>
				</div>
			
				<div class="sa_row">
				<label for="ballPower">Ball Power</label>
				<select id="ballPower"><option value=0 selected>0</option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option><option value=9>9</option><option value=10>10</option></select>
				</div>
			
				<div class="sa_row">
					<label for="clubDistance" style="margin-left:5px">Club Distance (%)</label>
					<div class="tooltip-wrapper">
					<input id="clubDistance" type="range" min="1" max="100" value="100">
					<div class="input-tooltip" role="status" aria-hidden="true">
							You can set club distance by using the slider or entering a value between 0 - 100 in the input box beside the slider.
					</div>
					</div>
					<input id="clubDistanceVal" type="number" step="1" value="100" style="margin-right:2px">
				</div>
		
				<div class="sa_row">
					<label for="elevation">Elevation (%)</label>
					<input list="elevList" id="elevation" type="number" value="10" step="5" style="width:82px">
					<datalist id="elevList">
						<option value="-65">-65</option><option value="-60">-60</option><option value="-55">-55</option><option value="-50">-50</option><option value="-45">-45</option><option value="-40">-40</option><option value="-35">-35</option><option value="-30">-30</option><option value="-25">-25</option><option value="-20">-20</option><option value="-15">-15</option><option value="-10">-10</option><option value="-5">-5</option><option value="0">0</option><option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option><option value="30">30</option><option value="35">35</option><option value="40">40</option><option value="45">45</option><option value="50">50</option><option value="55">55</option><option value="60">60</option><option value="65">65</option>
					</datalist>
				</div>
			</div>
  
	  			<!-- RIGHT: Rings card -->
			<div class="panel ring-card" style="min-width:220px;">
			    <h4>Rings to Adjust</h4>
				<div class="rings-main" id="ringsMain">--</div>
				<div class="rings-sub">
					<div>Max: <span id="r_max">--</span></div>
					<div>75%: <span id="r_75">--</span></div>
					<div>Mid: <span id="r_mid">--</span></div>
					<div>25%: <span id="r_25">--</span></div>
					<div>Min: <span id="r_min">--</span></div>
				</div>
				<div class="active-club" id="active_club">--</div>
			</div>

		</div>
		
	</div>

  		<!-- SHORTCUT BUTTONS -->
  	<div class="shortcut-bar" id="shortcutBar">
	<div class="tooltip-wrapper" style="height: var(--mainPanelsHdrHeight);">
		<img src="info_icon.png" style="height: 75%; width:auto;margin-right: 3px;" id="sc-info-btn">	
		<div class="input-tooltip" role="status" aria-hidden="true">
		  Click here for more info about the Shortcut Buttons.
		</div>
	</div>
	</div>


<!-- ______________________________________________________________________________________ -->
			<!-- Endbringer School panel (hidden initially) -->
<!--_______________________________________________________________________________			 -->
	<div id="ebs-panel-root" class="ebsPanelWrapper hidden">
	     <div id="ebsHeader" class="ebsPanelHeader">Endbringer School (Club Distance% --> Rings)</div>
		 <div class="ebsPanelInfo">(To dismiss, choose a different selected club or click the "Endbringer School" button again.)</div>
         <div id="ebsContainer" class="ebsPanelContainer">
           <div id="ebsCol1" class="ebsPanelColumn" style="border-right:solid; border-right-color:#cccccc">
			 <div class="ebsColRow"><p>140% --> <span id="ebs140">---</span></p></div>
			 <div class="ebsColRow"><p>135% --> <span id="ebs135">---</span></p></div>
			 <div class="ebsColRow"><p>130% --> <span id="ebs130">---</span></p></div>
			 <div class="ebsColRow"><p>125% --> <span id="ebs125">---</span></p></div>
			 <div class="ebsColRow"><p>120% --> <span id="ebs120">---</span></p></div>
			 <div class="ebsColRow"><p>115% --> <span id="ebs115">---</span></p></div>
			 <div class="ebsColRow"><p>110% --> <span id="ebs110">---</span></p></div>
		  </div>
		  <div id="ebsCol2" class="ebsPanelColumn" style="border-right:solid; border-right-color:#cccccc">
			<div class="ebsColRow"><p>105% --> <span id="ebs105">---</span></p></div>
			<div class="ebsColRow"><p>100% --> <span id="ebs100">---</span></p></div>
			<div class="ebsColRow"><p>95% --> <span id="ebs95">---</span></p></div>
			<div class="ebsColRow"><p>90% --> <span id="ebs90">---</span></p></div>
			<div class="ebsColRow"><p>85% --> <span id="ebs85">---</span></p></div>
			<div class="ebsColRow"><p>80% --> <span id="ebs80">---</span></p></div>
			<div class="ebsColRow"><p>75% --> <span id="ebs75">---</span></p></div>
		  </div>
          <div id="ebsCol3" class="ebsPanelColumn" style="border-right:solid; border-right-color:#cccccc">
			<div class="ebsColRow"><p>70% --> <span id="ebs70">---</span></p></div>
			<div class="ebsColRow"><p>65% --> <span id="ebs65">---</span></p></div>
			<div class="ebsColRow"><p>60% --> <span id="ebs60">---</span></p></div>
			<div class="ebsColRow"><p>55% --> <span id="ebs55">---</span></p></div>
			<div class="ebsColRow"><p>50% --> <span id="ebs50">---</span></p></div>
			<div class="ebsColRow"><p>45% --> <span id="ebs45">---</span></p></div>
			<div class="ebsColRow"><p>40% --> <span id="ebs40">---</span></p></div>
		  </div>
		  <div id="ebsCol4" class="ebsPanelColumn">
			<div class="ebsColRow"><p>35% --> <span id="ebs35">---</span></p></div>
			<div class="ebsColRow"><p>30% --> <span id="ebs30">---</span></p></div>
			<div class="ebsColRow"><p>25% --> <span id="ebs25">---</span></p></div>
			<div class="ebsColRow"><p>20% --> <span id="ebs20">---</span></p></div>
			<div class="ebsColRow"><p>15% --> <span id="ebs15">---</span></p></div>
			<div class="ebsColRow"><p>10% --> <span id="ebs10">---</span></p></div>
			<div class="ebsColRow"><p>5% --> <span id="ebs5">---</span></p></div>
		  </div>
	    </div>
	</div>
	
	



<!-- ______________________________________________________________________________________ -->
			<!-- Tools Info panel (hidden initially) -->
<!--_______________________________________________________________________________			 -->

	<div id="tools-info-modal">
		<div id="tools-info-box">
			<div id="tools-info-close">✖</div>

			<h2 style="margin-top: 0;">Tools Information</h2>

			<p><strong>Endbringer School</strong><br>
			Automatically selects the Endbringer club at the level it was last saved at within your golf bags. It also sets the elevation to 20%, puts keyboard focus on the wind input box, and displays the extended 5%–140% ring adjustment table. The extended ring adjustment table updates in real time if any input (wind, ball power, or elevation) impacting the ring adjustment calculation is changed. If the app is unable to determine the level of your Endbringer club it will default to level 5.</p>

			<p><strong>Tournament Notes</strong><br>
			Opens simple note-taking pages for front/back 9. Notes are saved locally and auto-restored the next time you open them.</p>

			<p><strong>CPC Mode / Reset</strong><br>
			Clears all selected clubs and levels, returns the interface to a clean state, and removes active ring calculations. This can be utilized before starting a Checkpoint Challenge match.</p>

			<p style="font-style: italic; margin-top: 18px;">
				More tools are planned for future versions of Wind-Buddy.
			</p>
		</div>
	</div>

	
	
	
<!-- ______________________________________________________________________________________ -->
			<!-- Shortcut Buttons Info panel (hidden initially) -->
<!--_______________________________________________________________________________			 -->
	<div id="sc-info-modal">
		<div id="sc-info-box">
			<div id="sc-info-close">✖</div>

			<h3 style="margin-top: 0;">Current Club Selections (Shortcut Buttons)</h3>

			<p>
			These 'shortcut' buttons only become enabled when both a club and a level are selected for the corresponding button's club type (Driver, Wood, Long Iron etc). If no club or no level is selected for said club type, the button will be disabled. The idea behind these buttons is for the user to have a quick and easy way to switch between clubs after selections have been made or loaded into the app via a golf bag button.  When a shortcut button is enabled, clicking it makes that club the active club in the application and the ring adjustment values being displayed are based on that club. The active club's shortcut button will also change colors to provide a visual confirmation that it is the active club. 
			</p>
			<p>
			In addition to making that club active and recalculating the ring adjustment, clicking on a club shortcut button also sets the keyboard focus to the wind input field in the Shot Adjustments panel. This happens automatically and should assist the user in getting the new wind value in to the application quickly by eliminating the need for repetitive mouse activity. The current contents of the wind input field will be selected (as if the user had clicked in the field and then pressed CTRL-A on the keyboard), so that the user can type in the new wind value and remove the old value simultaineously.  
			</p>
			<p>
			Also note that when you select a saved golf bag by clicking on a golf bag button, the driver for that bag is automatically selected and becomes the active club.  All of the shortcut buttons will update to reflect the clubs and levels that were saved for that bag number. The driver shortcut button will change colors to reflect that it is now the active club, and keyboard focus will go to the wind input field as if the user had actually clicked on the driver shortcut button.
			</p>

		</div>
	</div>


	       <!-- FOOTER -->
	<footer>© 2025 Wind-Buddy by Justin Holmes. Inspired by the late great Wind Chum. May it rest in peace.</footer>
  </div>



<!-- Init Firebase -->
<script type="module" src="./firebase-init.js"></script>

<!-- Auth UI + onAuthState (needs firebase-init) -->
<script type="module" src="./firebase-auth.js"></script>

<!-- Your app code (imports firebase-init & auth) -->
<script type="module" src="./WindBuddy.js"></script>


</body>
</html>